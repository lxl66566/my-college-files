# 通信与网络实践

大四的最后一门实践课，应该也是大学里最后一节课。

网址：<http://123.57.133.84:8090/login> w1

两个项目，大家做的好像都是项目 2，更简单。

## 吐槽

实验快照：指截图

## 验证性实验

连连看小游戏。连接完后如果报错，需要手动将 “交织” “加扰” “调制” “产生导频数据” 四个模块删了，然后从左边拖动重连。（奇妙小 bug）

## 设计性实验

然后下载代码到本地，套两层 zip 也就算了，文件名还一堆 `task\` 前缀，源代码还各种混乱编码。。。[糊一个 py](./preprocess.py) 预处理一下。

不过说到底，如果抱着随便把这门课程糊过去的心态，代码其实也没必要在本地跑。特别是下载的 zip 甚至还直接给出了完整代码。

## 原理

根据数据流向排序：

- 发端：产生随机信源 添加 CRC 码块分割 Turbo 编码 速率匹配 码块级联 交织 加扰 调制 生成导频数据 资源映射 产生频域数据 产生时域数据
- 收端：时域数据变换成频域数据 解资源映射 导频数据生成 信道估计 均衡 解调 解扰 解交织 解码块级联 解速率匹配 解 Turbo 编码 码块信息汇聚 解 CRC

步骤解释：

- CRC：纠错码，24 位添加到原始信号后。
- 码块分割（TDLTE_pusch_rs_gen.m）：将长的数据流分割成多个小的数据块，以便于后续处理。实际代码中分割为两种不同大小（K(i) and K(i-1)）的码块。先切小块再切大块。
- Turbo 编码：误码恢复。采用两个并行级联的卷积编码器，中间加入交织器来打乱数据顺序，以增加编码的多样性。输出三倍长度。
- 速率匹配：调整编码后的比特率以适应传输信道的特性。可能涉及重复某些比特或删除部分比特，以达到所需的比特率。
- 码块级联：将编码后的多个码块重新连起来。
- 交织：对抗突发错误。按照一定的规则重新排列数据位的位置，使得原本相邻的数据位在传输过程中不会因为信道的突发错误而同时丢失。（变为分散丢失）
- 加扰：改善信号的频谱特性，减少连续‘0’或‘1’的影响。通过与一个已知的伪随机序列进行异或操作来改变数据模式。
- 调制（TDLTE_modfun.m）：将数字信号转换为适合无线传输的模拟信号。使用不同的调制方案（如 QPSK、16QAM 等）将数据映射到相应的星座点上。
- 生成导频数据（TDLTE_pusch_rs_gen.m）：帮助接收端进行信道估计和同步。在数据流中插入已知的参考符号。
- 资源映射：将调制后的符号分配到可用的子载波上。根据系统的多载波调制方式（如 OFDM），将数据符号放置到正确的频率位置。
- 信道估计：估计信道响应，用于补偿传输过程中的失真。利用导频数据计算信道状态信息。
- 解速率匹配：恢复原始的数据。去除速率匹配过程中添加的额外比特或恢复删除的比特。
